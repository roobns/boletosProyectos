<div class="row" style="max-width:1200px; margin:0 auto;">

  <div class="col-md-12">
      <div class="col-md-6">
        <img style="float: left;" alt="Logo" src="img/banner.png" responsive/>
        
    </div>
    <div class="col-md-6 ">
        <img style="float: right;" alt="Banner" src="img/logo.jpg" />
    </div>
  </div>

    <div class="col-md-7">
        
        <div class="clearfix"></div>
        <br>
        <p class="userWelcome">
            Bienvenido <b>{{user.nombre}}  {{user.apellidos}}</b>
        </p>
        <p class="registerDateLimit">
            Fecha límite para registrar tus boletos: <span class="textoInfoBoletos">28 de Febrero de 2017</span>
        </p>
    </div>
    
</div>


<div class="row" style="max-width:960px; margin:0 auto;">

   <div class="col-md-12">
   <button id="addSell"  class="btn btn-primary btn-lg pull-right"  role="button"  data-toggle="modal" data-target="#myModal" >Asignar boletos</button>
   </div>
    <div class="col-md-12">

        


        <div class="loginBox" style="margin-top:50px;">

            <div class="loginBoxHeader">
                <i class="fa fa-ticket" aria-hidden="true"></i> Tus Boletos

            </div>
            <div class="loginBoxBody">
                <div class="row" style="max-width:960px; margin:0 auto;">
                    <div class="col-md2 col-xs-3 col-sm-3">
                        <p class="textoInfoBoletos">Boletos Adquiridos: {{user.numBoletos}}</p>
                    </div>
                    <div class="col-md2 col-xs-3 col-sm-3">
                        <p class="textoInfoBoletos">Boletos Asignados: {{asignados}}</p>
                    </div>
                    <div class="col-md3 col-xs-3 col-sm-3">
                        <p class="textoInfoBoletos" >Disponibles: <span style="color:black;font-weight:bold">{{disponibles}}</span></p>
                    </div>
                    <div class="col-md5 col-xs-3 col-sm-3">
                       <div class="row pull-right" style="{{styleSquare}}">
                        <div class="col-md12 col-xs-12 col-sm-12 text-center" >
                            <h3 style="margin:0;padding:0" ><span style="color:white;font-weight:bold">{{user.numBoletos}}</span></h3>
                         </div> 
                         <div class="col-md5 col-xs-5 col-sm-5 text-center" style="margin:0;padding:0">
                            <h5 style="margin:0;padding:0" ><span style="color:white;font-weight:bold">{{asignados}}</span></h5>
                         </div>
                         <div class="col-md2 col-xs-2 col-sm-2 text-center" style="margin:0;padding:0">
                            <h5 style="margin:0;padding:0" ><span style="color:white;font-weight:bold">-</span></h5>
                         </div>
                         <div class="col-md5 col-xs-5 col-sm-5 text-center" style="margin:0;padding:0">
                            <h5 style="margin:0;padding:0" ><span style="color:black;font-weight:bold">{{disponibles}}</span></h5>
                         </div>
                       </div>

                    </div>
                </div>
                <br>
                <div class="table-responsive">
                    <table ng-table="usersTable" class="table table-striped table-hover" >

                        <tr ng-repeat="user in data" ng-dblclick="showModalData(user);" style="cursor: pointer;">
                            <input type="hidden" name="id" value="{{user.folio}}">
                            
                            <td data-title="'Id'" sortable="'folio'">
                                <span class="registerDateLimit">{{user.folio}}</span>
                            </td>  

                            <td data-title="'Nombre'" sortable="'nombre'">
                                <span class="registerDateLimit">{{user.nombre}}</span>
                            </td>
                            <td data-title="'Apellidos'">
                                <span class="registerDateLimit">{{user.apellidos}}</span>
                            </td>
                            <td data-title="'Ciudad'">
                                <span class="registerDateLimit">{{user.ciudad}}</span>
                            </td>
                            <td data-title="'Estado'">
                                <span class="registerDateLimit">{{user.estado}}</span>
                            </td>
                            <td data-title="'Teléfono'">
                                <span class="registerDateLimit">{{user.telefono}}</span>
                            </td>
                            <td data-title="'E-Mail'">
                                <span class="registerDateLimit">{{user.email}}</span>
                            </td>
                            <td data-title="'Documento 1'">
                                 <img style="width: 80px; height: 30px;" ng-show="user.imagen != null" src="uploads/{{user.imagen}}">
                            </td>
                            <td data-title="'Documento 2'">
                                <img style="width: 80px; height: 30px;" ng-show="user.imagen2 != null" src="uploads/{{user.imagen2}}">
                            </td>

                            
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Asignar boleto</h4>
      </div>

      <form id="userForm" name="userForm" action="upload.php" method="post" enctype="multipart/form-data">
        <input type="hidden" name="folio" value="{{folio}}" ng-model="folio"">
        <div class="modal-body">
              <div class="row">
                  <div class="col-md-6 ">
                        <div class="form-group">
                            <label for="nombre">Nombre</label>
                            <input ng-disabled="showUploadFile" required type="text" class="form-control" id="nombre" placeholder="Nombre" ng-model="nombre">
                        </div>
                        </div>
                  <div class="col-md-6 ">
                      <div class="form-group">
                        <label for="apellidos">Apellidos</label>
                        <input ng-disabled="showUploadFile" required type="text" class="form-control" id="apellidos" placeholder="Apellidos" ng-model="apellidos">
                      </div>

                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 ">
                        <div class="form-group">
                            <label for="ciudad">Ciudad</label>
                            <input ng-disabled="showUploadFile" required type="text" class="form-control" id="ciudad" placeholder="Ciudad" ng-model="ciudad">
                          </div>
                    </div>
                  <div class="col-md-6 ">
                      <div class="form-group">
                        <label for="estado">Estado</label>
                        <input ng-disabled="showUploadFile" required type="text" class="form-control" id="estado" placeholder="Estado" ng-model="estado">
                      </div>

                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 ">
                        <div class="form-group">
                            <label for="telefono">Telefono</label>
                            <input ng-disabled="showUploadFile" required type="text" class="form-control" id="telefono" placeholder="Telefono" ng-model="telefono">
                          </div>
                    </div>
                  <div class="col-md-6 ">
                      <div class="form-group">
                        <label for="email">Email address</label>
                        
                        <div class="form-group" ng-class="{ 'has-error': userForm.email.$invalid }" >
                          <input ng-disabled="showUploadFile" type="email" class="form-control" name="email"   ng-model="email" required />
                        </div>

                      </div>
                </div>
              </div> 

                <div class="row" ng-show="showUploadFile">
                  <div class="col-md-6 ">
                    <div class="form-group">
                        <label for="exampleInputFile">Documento 1</label>
                        
                        <input id="inputFileToLoad"  name="inputFileToLoad" type="file"   ng-model="nImagen" />
                        <div id="imgTest">
                          <img src="uploads/{{imagen1}}">
                        </div>

                      </div>      
                  </div>
                  <div class="col-md-6 ">
                      <div class="form-group">
                      <label for="exampleInputFile">Documento 2</label>
                      <input id="inputFileToLoad2"  name="inputFileToLoad2" type="file" n  ng-model="nImagen2" />
                      <div id="imgTest2">
                          <img src="uploads/{{imagen2}}">
                      </div>
                      
                    </div>       
                  </div>
                </div>
 
              

              <div class="form-group">
                <div id="alertSell" class="alert alert-success" style="display: none;" role="alert">Boleto asignado</div>
              </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" >Cerrar</button>
        <button type="button" id="btnSaveTicket" class="btn btn-primary" ng-click="saveTicket();" ng-disabled="userForm.$invalid"  ng-show="!showUploadFile">Guardar</button
        >
        <button type="button" class="btn btn-primary" ng-click="uploadFile();" ng-show="showUploadFile" >Cargar</button
      </div>
</form>
    </div>
  </div>
</div>